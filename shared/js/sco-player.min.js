//---------------------------------------------------------------------------------------------
//  Author: Frank Fajardo (frank.fajardo@pearson.com)
//---------------------------------------------------------------------------------------------
var scorm,SB,scoPlayer=scoPlayer||{};!function(){function w(){"function"==typeof window.SCORM_API&&(scorm=new SCORM_API({debug:!0,throw_alerts:!0,time_type:"GMT"})),"function"==typeof window.SCOBot&&(SB=new SCOBot({success_status:"unknown",completion_threshold:1}),$(SB).on("load",function(){A()}),$(SB).on("unload",function(){D()}),$(SB).on("comments_lms",function(){}),$(SB).on("exception",function(){return!1}))}function x(){$("#nojs-notice").hide(),$("#cover").show(),$("#toc").hide(),$("#main-content").hide(),$(".nav-page").hide(),$(".nav-quiz").hide(),$("#nav-grp-help").hide(),$("#nav-grp-exit>.nav-page").show(),$.getJSON("sco-content.json",function(c){a=c.heading,document.title=a,b=c.pages,cb(c)})}function y(){$("h1").length>0&&$("h1").remove(),$(".page-content").prepend('<h1 class="course-heading">[Course Heading will be taken from sco-content.json]</h1'),1==$(".page-content").hasClass("quiz-content")&&($("body").prepend('<div class="webbar"/>'),$(".webbar").prepend(u),$(".webbar").hide());var a=$(".page-content").parent(".page-wrapper");F(a)}function z(){window.addEventListener?window.addEventListener("resize",mb,!1):window.attachEvent&&window.attachEvent("onresize",mb,!1),$(".nav-btn").click(function(a){J($(this)),a.stopPropagation()}),$("#toc").on("click",".toc-item",function(){S($(this))}),$("#master-detail").on("click",".help-next",function(){Z()}),$("#master-detail").on("click",".help-prev",function(){Y()}),$("#master-detail").on("click",".help-exit",function(){X()}),$("body").on("click",".must-be-clicked",function(){K($(this))}),$("body").on("click",".q-choice",function(a){ub($(this)),a.stopPropagation()}),$("body").on("click",".read-more",function(a){Bb($(this)),a.stopPropagation()}),Cb()}function A(){if(!v)return setTimeout(function(){A()},500),void 0;if("undefined"!=typeof SB){var a=SB.getValue("cmi.mode"),b=SB.getValue("cmi.credit");if(q="normal"===a,r="credit"===b||scorm.isLMSConnected()===!1,q&&(e=ib(),f=kb(),e>0&&c>e)){var d="<h3>Resume your last session?</h3><p>Click <em>Yes</em> to resume. Or click <em>No</em> to start from the beginning.</p>";return T(d,["*Yes","No"],[function(){scoPlayer.playContentFromBookmarkedPage()},function(){scoPlayer.playContentFromBeginning()}]),void 0}}B()}function B(){E(),fb(0)}function C(){G(f),fb(e)}function D(){this.stopping!==!0&&(this.stopping=!0,$("#master-body").hide(),$("#good-bye span").text("Good bye!"),$("#good-bye").removeClass("hidden"),"undefined"!==SB&&(s?SB.suspend():SB.finish()))}function E(){"undefined"!=typeof SB&&q&&r&&(SB.setValue("cmi.progress_measure","0"),SB.setValue("cmi.score.raw","0"),SB.setValue("cmi.score.min","0"),SB.setValue("cmi.score.max","100"),SB.setValue("cmi.score.scaled","0"),SB.setValue("cmi.location",""),SB.setValue("cmi.suspend_data",""),SB.setValue("cmi.success_status","unknown"))}function F(a){if(a instanceof jQuery&&1===a.length){var b=a.children(".page-content:eq(0)").attr("data-sco-beforeshow");"function"==typeof window[b]&&window[b]()}}function G(a){if(a instanceof Array)for(i=0;i<a.length;i++){var b=parseInt(a[i],10);if(!isNaN(b)&&b>-1&&c>b){var d=$(".toc-item:eq("+b+")").attr("data-target"),e=$("."+d);e.find(".must-be-clicked").removeClass("must-be-clicked"),H(e)}}}function H(a){if(a instanceof jQuery&&1===a.length){var b=a.children(".page-content").attr("data-sco-aftercompletion");if("function"==typeof window[b]&&window[b](),a.find(".instruction.for-interaction").hide(),scoPlayer.playFullContent()){var c=$("#main-content .page").index(a);$(".toc-item:eq("+c+")").addClass("completed")}}}function I(){"undefined"!=typeof SB&&q&&(SB.setValue("cmi.exit","suspend"),s=!0)}function J(a){if(a.hasClass("disabled")===!0)return a.hasClass("nav-next")===!0&&c-1>d&&T("<h3>The <em>Next</em> button is disabled.</h3><p>Please see instructions on the page to continue.</p>","*Ok",null),void 0;if(a.closest(".nav-container").hasClass("help-focus")!==!0||a.hasClass("nav-toc")!==!1)return a.hasClass("nav-exit")===!0?(a.hasClass("nav-quiz")===!0&&pb(),void 0):a.hasClass("nav-prev")===!0?(a.hasClass("nav-page")===!0&&d>0&&gb(d-1),a.hasClass("nav-quiz")===!0&&o>0&&tb(o-1),void 0):a.hasClass("nav-next")===!0?(a.hasClass("nav-page")===!0&&c-1>d&&gb(d+1),a.hasClass("nav-quiz")===!0&&l-1>o&&tb(o+1),void 0):a.hasClass("nav-help")===!0?(a.hasClass("active")===!1&&(a.addClass("active"),W()),void 0):a.hasClass("nav-toc")===!0?(a.hasClass("active")===!1?P():Q(),void 0):void 0}function K(a){if(a instanceof jQuery&&1===a.length){a.removeClass("must-be-clicked");var b=a.closest(".page-wrapper");0===b.find(".must-be-clicked").length&&(H(b),L(".nav-page.nav-next"))}}function L(a){$(a).removeClass("disabled"),Ab(a)}function M(a){$(a).addClass("disabled"),Ab(a)}function N(a){$(a).addClass("active"),Ab(a)}function O(a){$(a).removeClass("active"),Ab(a)}function P(){N(".nav-toc"),$("#toc").addClass("active").show(),bb()}function Q(){O(".nav-toc"),$("#toc").fadeOut(200).removeClass("active")}function R(a,b){var c=Math.floor((a-b)/2),d=$("#toc").width()+10;d>c&&Q()}function S(a){if(a.hasClass("current")===!1&&a.closest("#toc").hasClass("help-focus")===!1){var b=a.attr("data-target");if(b.indexOf("page-")>-1){var c=b.substr(5);if(parseInt(c,10)||0==c){var d=parseInt(c,10);gb(d)}}}}function T(a,b,c){if(!(b instanceof Array||c instanceof Array)||b.length==c.length){U(a);var d=b instanceof Array?b.length:1;for($("#dialog-buttons").html(""),i=0;d>i;i++){var e=c instanceof Array?c[i]:c;e=null!==e?$.trim(e):null;var f=b instanceof Array?$.trim(b[i]):$.trim(b),g="btn";0==f.indexOf("*")&&(g+=" btn-primary",f=f.substr(1)),null==c||null===c[i]?$("#dialog-buttons").append('<span class="'+g+'">'+f+"</span>"):$("#dialog-buttons").append('<span class="'+g+'" onclick="f='+e+';f()">'+f+"</span>")}Fb(),$(".dimmer").show();var h=.95*$(window).width<$("#dialog").width?.95*$(window).width:$("#dialog").width;$("#dialog").css({width:h}).show()}}function U(a){0===$("#dialog").length&&($("body").append('<div id="dialog"><div id="dialog-content"></div><div id="dialog-buttons"></div></div>'),$("#dialog-buttons").on("click",".btn",function(a){V(),a.stopPropagation()})),$("#dialog-content").html(a)}function V(){$("#dialog").hide(),$(".dimmer").hide(),$("#dialog-content").html(""),$("#dialog-buttons").html("")}function W(){$(".dimmer").show(),$("#help-guide .help-section").hide(),$("#help-guide").show().children(".help-section:eq(0)").addClass("active").fadeIn(200),ab()}function X(){$(".help-focus").removeClass("help-focus"),$(".click-shield").remove(),$(".dimmer").hide(),$("#help-guide").hide().children(".help-section.active").removeClass("active").hide(),$(".nav-help").removeClass("active")}function Y(){_(-1)}function Z(){_(1)}function _(a){if(0!=a){var b=$("#help-guide .help-section"),c=$("#help-guide .help-section.active"),d=0;c.length>0&&(c.removeClass("active").hide(),d=b.index(c[0])+a),c=$("#help-guide .help-section:eq("+d+")"),c.length>0&&($(".help-focus").removeClass("help-focus"),c.addClass("active").fadeIn(200),c.hasClass("help-with-content")===!0?($(".page.current").addClass("help-focus"),0===$(".page.current .click-shield").length&&$(".page.current").append('<div class="click-shield"></div>')):c.hasClass("help-welcome")===!0?$("#nav-grp-help").addClass("help-focus"):c.hasClass("help-with-toc")===!0?($("#nav-grp-toc").addClass("help-focus"),$("#toc").addClass("help-focus")):c.hasClass("help-with-steppers")===!0?$("#nav-grp-steppers").addClass("help-focus"):c.hasClass("help-with-counters")===!0?$("#nav-grp-counters").addClass("help-focus"):c.hasClass("help-with-exit-or-submit")===!0&&$("#nav-grp-exit").addClass("help-focus"),ab())}}function ab(){var a=$(".help-section"),b=a.length,c=$(".help-section.active"),d=a.index(c);0==d?$(".help-prev").addClass("hidden"):$(".help-prev").removeClass("hidden"),d==b-1?$(".help-next").addClass("hidden"):$(".help-next").removeClass("hidden")}function bb(){if($("#toc").hasClass("active")===!0){var a=Math.floor(($(window).width()-$("#master-detail>.content-wrapper").width())/2),b=$("#toc").width()+10;if(0>=a)return $("#toc").css({left:"0"}),void 0;a>0&&b>a?$("#toc").css({left:"-"+a+"px"}):$("#toc").css({left:"-"+b+"px"})}}function cb(){if("undefined"!=typeof b){M(".nav-btn"),$("#main-content").html(""),c=b.length;for(var a=0;c>a;a++){$("#toc>.dimmer").before('<div class="toc-item" data-target="'+eb(a)+'">'+b[a].title+"</div>"),$("#main-content").append('<div class="page '+eb(a)+' page-wrapper"></div>');var d="."+eb(a),e=b[a].location;db(d,e)}v=!0}}function db(b,c){$.get(c,function(c){var d=$(".page-content:eq(0)",c).prepend('<div class="course-heading">'+a+"</div>"),e=$(b);0!==e.length&&e.html(d).hide()})}function eb(a){return"page-"+a.toString()}function fb(a){I();var b=a>0&&c>a?a:0;setTimeout(function(){$("#cover").fadeOut(500,function(){L(".nav-btn"),$("#main-content").show(),gb(b),$(".nav-page").show(),$("#nav-grp-help").show()})},2500)}function gb(a){var b=eb(a),e=$("."+b+":eq(0)");if(e.length>0){R(e.closest("body").width(),e.width()),lb(),$(".page").hide(),Fb(),e.addClass("current").fadeIn(200),$('.toc-item[data-target="'+b+'"]').addClass("current");var f=0;Ib(a)&&(d=Hb(a),f=d+1),$("#current-page").text(f),$("#total-pages").text(c),f===c?M(".nav-page.nav-next"):L(".nav-page.nav-next"),2>f?M(".nav-page.nav-prev"):L(".nav-page.nav-prev"),e.find(".must-be-clicked").length>0&&M(".nav-page.nav-next"),F(e),hb(d)}}function hb(a){"undefined"!=typeof SB&&q&&SB.setValue("cmi.location",a.toString())}function ib(){var a=0;return"undefined"!=typeof SB&&(a=Hb(SB.getValue("cmi.location"))),a}function jb(a){"undefined"!=typeof SB&&(a instanceof Array||a.length>0?SB.setValue("cmi.suspend_data",a.join(",")):SB.setValue("cmi.suspend_data",""))}function kb(){var a=[];if("undefined"!=typeof SB){var b=SB.getValue("cmi.suspend_data");"undefined"!=typeof b&&b.length>0&&(a=b.split(","))}return a}function lb(){var a=$(".page.current");if(a.length>0&&0===a.children(".page-content").find(".must-be-clicked:eq(0)").length){a.addClass("completed"),$(".toc-item.current").addClass("completed");var b=a.index();(0===f.length||-1===f.indexOf(b))&&(f.push(b),jb(f))}a.removeClass("current"),$(".toc-item.current").removeClass("current")}function mb(){bb()}function nb(a,b){if("undefined"==typeof b)return!1;if(g=$("#"+a),0===g.length)return!1;var c="undefined"!==b.questions?b.questions:[];if(0===c.length)return!1;var d="undefined"!==b.quizSize?b.quizSize:c.length,e="undefined"!==b.showHints&&"boolean"==typeof b.showHints?b.showHints:!0,f="undefined"!==b.shuffleChoices&&"boolean"==typeof b.shuffleChoices?b.shuffleChoices:!0,k="undefined"!==b.passingScaledScore?b.passingScaledScore:"100.0",l="undefined"!==b.quizWeight?b.quizWeight:"100.0";if(g.hasClass("quiz-ready")===!1){h=g.find(".quiz-questions:eq(0)"),h.hide().html("");var m=0;for(Gb(c),i=0;d>i;i++)if("undefined"!=typeof c[i].id&&"undefined"!=typeof c[i].text&&"undefined"!=typeof c[i].answer&&c[i].choices instanceof Array&&!(c[i].choices.length<2)){var n='<div class="q-header">Question:</div><div class="q-text">'+c[i].text+"</div>",o=$.trim(c[i].answer),p="",q=[],r=c[i].choices.length;for(j=0;r>j;j++){var s=$.trim(c[i].choices[j]),t=s===o&&""!==o?"correct":"incorrect",u="undefined"!=typeof c[i].hints?u=$.trim(c[i].hints[j]):"";q.push({text:s,type:t,hint:u})}if(f){var v=q[r-1].text;v.toLowerCase().indexOf("of the above")>-1?Gb(q,r-1):Gb(q)}for(j=0;r>j;j++){var w=(""!==q[j].hint?' data-chhint="'+q[j].hint+'"':"")+' data-chtype="'+q[j].type+'"';p+='<div class="q-choice"'+w+">"+q[j].text+"</div>"}p='<div class="q-choices"><div class="q-header">Choices:</div>'+p+"</div>";var x='<div class="q-hint"></div>',y='<div class="q-item unanswered" data-qid="seq-'+(i+1)+"-"+c[i].id+'">'+n+p+x+"</div>";h.append(y),m+=1}return m>0&&(g.addClass("quiz-ready"),g.attr({"data-qsize":m,"data-qpassingscore":k,"data-qweight":l,"data-qscore":"0","data-qpass":"false","data-qstarted":"false","data-qhints":e})),m>0}}function ob(a){if(g=$("#"+a),0===g.length)return!1;g.find(".quiz-result").hide(),l=g.attr("data-qsize"),$("#total-questions").text(l);var b=g.find(".q-item.unanswered:eq(0)");o=b.length>0?g.find(".q-item").index(b):-1,Q(),M(".nav-toc"),g.attr({"data-qstarted":"true"}).show(),qzStartTime=new Date,q&&r&&0!==b.length?(rb(),tb(o)):(pb(),L(".nav-toc"))}function pb(){if(0!==g.length&&(k=k||g.find(".quiz-result"),0!==k.length)){k.html(""),l="undefined"!==g.attr("data-qsize")?g.attr("data-qsize"):h.find(".q-item").length,quizPassingScore=g.attr("data-qpassingscore"),quizPassingScore="NaN"!==parseFloat(quizPassingScore)?parseFloat(quizPassingScore):100,n=g.find(".q-item.unanswered").length,m=g.find('.q-item[data-response-result="correct"]').length;var a=Math.floor(100*(m/l)),b=a>=quizPassingScore;g.attr({"data-qscore":a,"data-qpass":b});var c=b?"Yay! You passed this quiz.":"Sorry, you failed this quiz.",d="You correctly answered "+m+" out of "+l+" questions.",e=b?"passed":"failed";k.html('<h3>Quiz Results</h3><p><span class="qz-result '+e+'">'+c+"</span><span>"+d+"</span></p>"),b||(k.append('<br/><div class="redo-quiz"><h4>Take this quiz again?</h4><p>Taking the quiz again will clear your current results.</p><span class="btn btn-primary btn-restart-quiz">Restart Quiz <i class="fa fa-chevron-right"></i></span></div>'),k.off("click",".btn-restart-quiz"),k.on("click",".btn-restart-quiz",function(a){h.find(".q-item").each(function(){$(this).hasClass("unanswered")===!1&&wb($(this))}),ob(qzContentId),a.stopPropagation()})),h.hide(),k.show(),sb(),Fb(),qb()}}function qb(){if("undefined"!=typeof SB&&q&&r){var a=0;$(".quiz-content").each(function(){var b=$(this).attr("data-qscore");b="NaN"!==parseFloat(b)?parseFloat(b):100;var c=$(this).attr("data-qweight");c="NaN"!==parseFloat(c)?parseFloat(c):100,a+=b*c/100}),SB.setValue("cmi.progress_measure",a/100),SB.setValue("cmi.score.raw",a),SB.setValue("cmi.score.scaled",a/100),0===$('.quiz-content[data-qstarted="false"]').length&&(SB.setValue("cmi.exit","normal"),s=!1,SB.setValue("cmi.complete_status","completed"))}}function rb(){scoPlayer.playFullContent()?($(".nav-page").hide(),$(".nav-quiz").show()):1==$(".page-content").hasClass("quiz-content")&&($(".webbar").show(),$(".counter-panel").show())}function sb(){scoPlayer.playFullContent()?($(".nav-quiz").hide(),$(".nav-page").show()):1==$(".page-content").hasClass("quiz-content")&&$(".webbar").hide()}function tb(a){if(l>=a&&h instanceof jQuery&&1===h.length){h.show().children(".q-item").hide(),Fb();var b=h.children(".q-item:eq("+(a-1)+")").fadeIn(200);qzStartTime=new Date,o=a,$("#current-question").text(o+1),vb(b)}}function ub(a){var b=a.closest(".q-item");0!==b.length&&(a.hasClass("selected")===!0?wb(b):xb(a))}function vb(){0===o?M(".nav-quiz.nav-prev"):L(".nav-quiz.nav-prev"),o===l-1?M(".nav-quiz.nav-next"):L(".nav-quiz.nav-next")}function wb(a){a.attr("data-response-result","").addClass("unanswered").find(".q-choice.selected").removeClass("selected"),yb(a)}function xb(a){var b=a.attr("data-chtype"),c=a.closest(".q-item");if(c.find(".q-choice.selected").removeClass("selected"),a.addClass("selected"),a.text(),c.attr("data-response-result",b).removeClass("unanswered"),"undefined"!=typeof SB&&q){var e=c.attr("data-qid"),f=c.children(".q-choices"),g=f.children('.q-choice[data-chtype="correct"]').index(),h=t.substr(g,1);g=f.children(".q-choice.selected").index();var i=t.substr(g,1),j=c.attr("data-response-result"),k=qzStartTime,m=new Date,n=c.children(".q-text:eq(0)").text(),o="";c.find(".q-choice").each(function(){if($(this).hasClass("unanswered")===!1){var a=$(this).index(),b=t.substr(a,1)+"="+$(this).text();o+=" "+b}});var p=1/l;SB.setInteraction({id:e,type:"choice",timestamp:k,correct_responses:[{pattern:[h]}],weighting:p,learner_response:[i],result:j,latency:m,description:n+o})}zb(c)}function yb(a){if(a instanceof jQuery&&0!==a.length&&0!==g.length&&"true"===g.attr("data-qhints")){var b=a.children(".q-hint:eq(0)");b.length>0&&(b.html(""),b.hide())}}function zb(a){if(a instanceof jQuery&&0!==a.length&&0!==g.length&&"true"===g.attr("data-qhints")){var b=a.find(".q-choice.selected:eq(0)");if(0!==b.length){var c=a.children(".q-hint:eq(0)");if(c.length>0){var d=b.attr("data-chhint"),e=b.attr("data-chtype");("undefined"==typeof e||""===$.trim(e))&&(e="incorrect"),d=d||("correct"!==e?"Sorry, but that is <strong>incorrect</strong>.":"That is <strong>correct</strong>. Well done!"),c.removeClass("q-ans-correct").removeClass("q-ans-incorrect"),c.fadeOut(100,function(){c.html(d),c.fadeIn(100),c.addClass("q-ans-"+e)})}}}}function Ab(a){if(8===ieVersion){var b=document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet.cssText=a+" *:before,"+a+" *:after{content:none !important;}",b.appendChild(c),setTimeout(function(){b.removeChild(c)},0)}}function Bb(a){a instanceof jQuery!=!1&&0!==a.length&&(a.hasClass("collapsed")===!0?a.removeClass("collapsed").addClass("expanded"):a.removeClass("expanded").addClass("collapsed"))}function Cb(){$("body").off("click",".accordion-header"),$("body").on("click",".accordion-header",function(){var a=$(this).parent().closest(".accordion"),b="slide";a.length>0&&(a.hasClass("accordion-slide")===!0?b="slide":a.hasClass("accordion-fade")===!0&&(b="fade"));var c=$(this);if(c.hasClass("collapsed")===!0){var d=$(".accordion-header.expanded");d.length>0?(d.removeClass("expanded").addClass("collapsed"),"fade"===b&&d.next(".accordion-detail").fadeOut(200,function(){c.removeClass("collapsed").addClass("expanded").next(".accordion-detail").fadeIn(200)}),"slide"===b&&d.next(".accordion-detail").slideUp(200,function(){c.removeClass("collapsed").addClass("expanded").next(".accordion-detail").slideDown(200)})):(c.removeClass("collapsed").addClass("expanded"),"fade"===b&&c.next(".accordion-detail").fadeIn(200),"slide"===b&&c.next(".accordion-detail").slideDown(200))}else c.removeClass("expanded").addClass("collapsed"),"fade"===b&&c.next(".accordion-detail").fadeOut(200),"slide"===b&&c.next(".accordion-detail").slideUp(200)})}function Db(a){a instanceof jQuery&&1===a.length&&a.find(".accordion-detail").hide()}function Eb(a){a instanceof jQuery&&1===a.length&&a.find(".accordion-detail").show()}function Fb(){$("body").scrollTop(0)}function Gb(a,b){(void 0==b||b>a.length)&&(b=a.length),0>b&&(b=0);for(var c,d,e=b;e;c=parseInt(Math.random()*e,10),d=a[--e],a[e]=a[c],a[c]=d);}function Hb(a){return"NaN"===parseInt(a,10)?0:parseInt(a,10)}function Ib(a){return parseInt(a,10)==a}this.version="1.0.0",this.showDialog=T,this.loadQuiz=nb,this.startQuiz=ob,this.endQuiz=pb,this.exit=D,this.stopping=!1,this.playFullContent=function(){return $("body").hasClass("sco-player")},this.playContentFromBeginning=B,this.playContentFromBookmarkedPage=C,this.initialiseAccordions=Cb,this.accordionCollapseAll=Db,this.accordionExpandAll=Eb;var a,b,f,g,h,k,c=0,d=0,e=0,l=0,m=0,n=0,o=0,q=!0,r=!0,s=!0,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u='<div class="content-wrapper sco-quiz-nav"><div id="nav-grp-counters" class="nav-container"><div id="question-counter" class="nav-quiz counter-panel"><div id="current-question" class="current-count" class="Current question number"></div><div id="total-questions" class="max-count" title="Total number of questions"></div></div></div><div id="nav-grp-steppers" class="nav-container"><div class="nav-btn nav-quiz nav-prev" title="Previous Question"><i class="fa fa-chevron-left"></i></div><div class="nav-btn nav-quiz nav-next" title="Next Question"><i class="fa fa-chevron-right"></i></div></div><div id="nav-grp-exit" class="nav-container"><div class="nav-btn nav-quiz nav-exit" title="End Quiz"><i class="fa fa-sign-out"></i></div></div></div>',v=!1;$(document).ready(function(){w(),scoPlayer.playFullContent()?x():y(),z()})}.apply(scoPlayer);var ieVersion=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();